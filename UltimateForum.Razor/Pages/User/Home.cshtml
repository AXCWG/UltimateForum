@page
@model UltimateForum.Razor.Pages.User.Home
@{
    ViewData["Title"] = Model.User.Username;
    
}
<div class="row gap-3">
    <div class="display-6">个人 - @Model.User.Username</div>
    <div class="card bg-light-subtle d-block w-100 p-3 px-5">
        <div class="mx-auto" style="max-width: 25rem">
            @if (Model.Edit)
            {
                <form method="post">
                    <div>用户名：@Model.User.Username</div>
                    <input class="form-control w-auto mt-2 form-control-sm" placeholder="Email（可选）" asp-for="EditProfile.Email"/>


                    <div class="d-flex flex-row gap-2 mt-2">
                        <button class="btn btn-primary btn-sm w-auto" asp-page-handler="EditProfile" type="submit">保存</button>
                        <a class="btn btn-danger btn-sm w-auto" asp-route-edit="">取消</a>
                    </div>
                </form>
                
            }
            else
            {
                <div>用户名：@Model.User.Username</div>
                <div>Email: @(Model.User.Email ?? "空")</div>


                <div class="d-flex flex-row gap-2 mt-2">
                    <a class="btn btn-primary btn-sm w-auto" asp-route-edit="true">更改</a>
                    <a class="btn btn-danger btn-sm w-auto" asp-page-handler="Logout">登出</a>

                </div>
            }
        </div>
    </div>
    <div class="mt-1 card bg-light-subtle d-block w-100 pb-3 pt-2 px-5">
        <div >统计<hr class="my-2"/></div>
        <div class="mx-auto" style="max-width: 25rem">
            <div>加入时间：@Model.User.Joined</div>
            <div>话题与回复数：@(Model.User.CreatedPosts.Count + Model.User.CreatedTopics.Count)</div>
        </div>
    </div>
</div>